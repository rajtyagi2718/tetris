


TODO

game
  pass piece [state, id]


search
  bfs start to terminal states
    unordered_map: afterstate -> state, action
    vector: index -> (terminalstate, value)
  max terminalstate by value
  backtrack path
    (terminalstate, null), (state, action), ... (startstate, action) 

  
central scheduling
order for ct scan


4:30

2:30




g++ -std=c++17 -c ../src/searchgame.cpp -o ../build/searchgame.o && g++ -std=c++17 -c ../src/agent.cpp -o ../build/agent.o && g++ -std=c++17 -c ../src/game.cpp -o ../build/game.o

g++ -std=c++17 main.o ../build/exception.o ../build/bitboard.o ../build/board.o ../build/features.o ../build/piece.o ../build/agent.o ../build/game.o ../build/searchgame.o gametest.cpp -lgtest -lgtest_main -pthread -o gametest && ./gametest

g++ -std=c++17 -c ../src/searchgame.cpp -o ../build/searchgame.o && g++ -std=c++17 main.o ../build/exception.o ../build/bitboard.o ../build/board.o ../build/features.o ../build/piece.o ../build/agent.o ../build/game.o ../build/searchgame.o searchgametest.cpp -lgtest -lgtest_main -pthread -o searchgametest && ./searchgametest

g++ -std=c++17 ../build/exception.o ../build/bitboard.o ../build/board.o ../build/features.o ../build/piece.o ../build/agent.o ../build/game.o ../build/graphics.o ../build/graphicsgame.o ../build/searchgame.o graphicsgametest.cpp -lsfml-graphics -lsfml-window -lsfml-system -lgtest -lgtest_main -pthread -o graphicstest && ./graphicstest

g++ -std=c++17 main.o ../build/exception.o exceptiontest.o ../build/bitboard.o bitboardtest.o ../build/board.o boardtest.o ../build/piece.o piecetest.o ../build/agent.o agenttest.o ../build/game.o gametest.o ../build/graphics.o ../build/graphicsgame.o graphicsgametest.o ../build/searchgame.o searchgametest.o -lsfml-graphics -lsfml-window -lsfml-system -lgtest -lgtest_main -pthread -o alltests

TODO
  searchgame
    check valid piece
  

TODO Search.cache
  unique paths
    set uint256_t
    integrate SearchAgent

  shortest unique paths
    map uint256_t -> stack or paths address

  path to best end state
    < 4*20*10 states
    filter disjoint from board and !fall
    sort by reward
      lines cleared
      board state
    reverse paths to start
    choose best
      shortest path
      least moves

TODO rename lowerlower -> lower_lower
  
class equality ??

reacheable piece end states

heights holes bumpiness

board
  bitboard
  bitpiece

game 
  board
    piece
  agent
    search

ai
  enumerate piece end states
  graph search reacheable end states
  evaluate end states
    clears heights holes overhangs ditches bumpiness
  
